<!DOCTYPE html>

<!--
Src: https://observablehq.com/@observablehq/plot-function-contour
-->

<div id="myplot"></div>
<script type="module">

import * as Plot from "https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm";
import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

// adapted from https://www.mathworks.com/help/matlab/ref/peaks.html
const peaks = (y, x) =>
  3 * (1 - x) ** 2 * Math.exp(-x * x - (y + 1) ** 2) -
  10 * (x / 5 - x ** 3 - y ** 5) * Math.exp(-x * x - y * y) -
  (1 / 3) * Math.exp(-y * y - (x + 1) ** 2);

const plot = Plot.plot({
  color: { type: "diverging" },
  aspectRatio: 1,
  marks: [
    Plot.contour({
      fill: peaks,
      stroke: "currentColor",
      x1: -3,
      x2: 3,
      y1: -2.2,
      y2: 2.2
    })
  ]
});

const div = document.querySelector("#myplot");
div.append(plot);

</script>